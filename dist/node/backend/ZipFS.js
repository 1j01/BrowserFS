var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var api_error_1 = require('../core/api_error');
var node_fs_stats_1 = require('../core/node_fs_stats');
var file_system = require('../core/file_system');
var file_flag_1 = require('../core/file_flag');
var preload_file = require('../generic/preload_file');
var util_1 = require('../core/util');
var inflateRaw = require('pako/dist/pako_inflate.min').inflateRaw;
var file_index_1 = require('../generic/file_index');
(function (ExternalFileAttributeType) {
    ExternalFileAttributeType[ExternalFileAttributeType["MSDOS"] = 0] = "MSDOS";
    ExternalFileAttributeType[ExternalFileAttributeType["AMIGA"] = 1] = "AMIGA";
    ExternalFileAttributeType[ExternalFileAttributeType["OPENVMS"] = 2] = "OPENVMS";
    ExternalFileAttributeType[ExternalFileAttributeType["UNIX"] = 3] = "UNIX";
    ExternalFileAttributeType[ExternalFileAttributeType["VM_CMS"] = 4] = "VM_CMS";
    ExternalFileAttributeType[ExternalFileAttributeType["ATARI_ST"] = 5] = "ATARI_ST";
    ExternalFileAttributeType[ExternalFileAttributeType["OS2_HPFS"] = 6] = "OS2_HPFS";
    ExternalFileAttributeType[ExternalFileAttributeType["MAC"] = 7] = "MAC";
    ExternalFileAttributeType[ExternalFileAttributeType["Z_SYSTEM"] = 8] = "Z_SYSTEM";
    ExternalFileAttributeType[ExternalFileAttributeType["CP_M"] = 9] = "CP_M";
    ExternalFileAttributeType[ExternalFileAttributeType["NTFS"] = 10] = "NTFS";
    ExternalFileAttributeType[ExternalFileAttributeType["MVS"] = 11] = "MVS";
    ExternalFileAttributeType[ExternalFileAttributeType["VSE"] = 12] = "VSE";
    ExternalFileAttributeType[ExternalFileAttributeType["ACORN_RISC"] = 13] = "ACORN_RISC";
    ExternalFileAttributeType[ExternalFileAttributeType["VFAT"] = 14] = "VFAT";
    ExternalFileAttributeType[ExternalFileAttributeType["ALT_MVS"] = 15] = "ALT_MVS";
    ExternalFileAttributeType[ExternalFileAttributeType["BEOS"] = 16] = "BEOS";
    ExternalFileAttributeType[ExternalFileAttributeType["TANDEM"] = 17] = "TANDEM";
    ExternalFileAttributeType[ExternalFileAttributeType["OS_400"] = 18] = "OS_400";
    ExternalFileAttributeType[ExternalFileAttributeType["OSX"] = 19] = "OSX";
})(exports.ExternalFileAttributeType || (exports.ExternalFileAttributeType = {}));
var ExternalFileAttributeType = exports.ExternalFileAttributeType;
(function (CompressionMethod) {
    CompressionMethod[CompressionMethod["STORED"] = 0] = "STORED";
    CompressionMethod[CompressionMethod["SHRUNK"] = 1] = "SHRUNK";
    CompressionMethod[CompressionMethod["REDUCED_1"] = 2] = "REDUCED_1";
    CompressionMethod[CompressionMethod["REDUCED_2"] = 3] = "REDUCED_2";
    CompressionMethod[CompressionMethod["REDUCED_3"] = 4] = "REDUCED_3";
    CompressionMethod[CompressionMethod["REDUCED_4"] = 5] = "REDUCED_4";
    CompressionMethod[CompressionMethod["IMPLODE"] = 6] = "IMPLODE";
    CompressionMethod[CompressionMethod["DEFLATE"] = 8] = "DEFLATE";
    CompressionMethod[CompressionMethod["DEFLATE64"] = 9] = "DEFLATE64";
    CompressionMethod[CompressionMethod["TERSE_OLD"] = 10] = "TERSE_OLD";
    CompressionMethod[CompressionMethod["BZIP2"] = 12] = "BZIP2";
    CompressionMethod[CompressionMethod["LZMA"] = 14] = "LZMA";
    CompressionMethod[CompressionMethod["TERSE_NEW"] = 18] = "TERSE_NEW";
    CompressionMethod[CompressionMethod["LZ77"] = 19] = "LZ77";
    CompressionMethod[CompressionMethod["WAVPACK"] = 97] = "WAVPACK";
    CompressionMethod[CompressionMethod["PPMD"] = 98] = "PPMD";
})(exports.CompressionMethod || (exports.CompressionMethod = {}));
var CompressionMethod = exports.CompressionMethod;
function msdos2date(time, date) {
    var day = date & 0x1F;
    var month = ((date >> 5) & 0xF) - 1;
    var year = (date >> 9) + 1980;
    var second = time & 0x1F;
    var minute = (time >> 5) & 0x3F;
    var hour = time >> 11;
    return new Date(year, month, day, hour, minute, second);
}
function safeToString(buff, useUTF8, start, length) {
    return length === 0 ? "" : buff.toString(useUTF8 ? 'utf8' : 'extended_ascii', start, start + length);
}
var FileHeader = (function () {
    function FileHeader(data) {
        this.data = data;
        if (data.readUInt32LE(0) !== 0x04034b50) {
            throw new api_error_1.ApiError(api_error_1.ErrorCode.EINVAL, "Invalid Zip file: Local file header has invalid signature: " + this.data.readUInt32LE(0));
        }
    }
    FileHeader.prototype.versionNeeded = function () { return this.data.readUInt16LE(4); };
    FileHeader.prototype.flags = function () { return this.data.readUInt16LE(6); };
    FileHeader.prototype.compressionMethod = function () { return this.data.readUInt16LE(8); };
    FileHeader.prototype.lastModFileTime = function () {
        return msdos2date(this.data.readUInt16LE(10), this.data.readUInt16LE(12));
    };
    FileHeader.prototype.crc32 = function () { return this.data.readUInt32LE(14); };
    FileHeader.prototype.fileNameLength = function () { return this.data.readUInt16LE(26); };
    FileHeader.prototype.extraFieldLength = function () { return this.data.readUInt16LE(28); };
    FileHeader.prototype.fileName = function () {
        return safeToString(this.data, this.useUTF8(), 30, this.fileNameLength());
    };
    FileHeader.prototype.extraField = function () {
        var start = 30 + this.fileNameLength();
        return this.data.slice(start, start + this.extraFieldLength());
    };
    FileHeader.prototype.totalSize = function () { return 30 + this.fileNameLength() + this.extraFieldLength(); };
    FileHeader.prototype.useUTF8 = function () { return (this.flags() & 0x800) === 0x800; };
    return FileHeader;
})();
exports.FileHeader = FileHeader;
var FileData = (function () {
    function FileData(header, record, data) {
        this.header = header;
        this.record = record;
        this.data = data;
    }
    FileData.prototype.decompress = function () {
        var compressionMethod = this.header.compressionMethod();
        switch (compressionMethod) {
            case CompressionMethod.DEFLATE:
                var data = inflateRaw(util_1.buffer2Arrayish(this.data.slice(0, this.record.compressedSize())), { chunkSize: this.record.uncompressedSize() });
                return util_1.arrayish2Buffer(data);
            case CompressionMethod.STORED:
                return util_1.copyingSlice(this.data, 0, this.record.uncompressedSize());
            default:
                var name = CompressionMethod[compressionMethod];
                name = name ? name : "Unknown: " + compressionMethod;
                throw new api_error_1.ApiError(api_error_1.ErrorCode.EINVAL, "Invalid compression method on file '" + this.header.fileName() + "': " + name);
        }
    };
    return FileData;
})();
exports.FileData = FileData;
var DataDescriptor = (function () {
    function DataDescriptor(data) {
        this.data = data;
    }
    DataDescriptor.prototype.crc32 = function () { return this.data.readUInt32LE(0); };
    DataDescriptor.prototype.compressedSize = function () { return this.data.readUInt32LE(4); };
    DataDescriptor.prototype.uncompressedSize = function () { return this.data.readUInt32LE(8); };
    return DataDescriptor;
})();
exports.DataDescriptor = DataDescriptor;
var ArchiveExtraDataRecord = (function () {
    function ArchiveExtraDataRecord(data) {
        this.data = data;
        if (this.data.readUInt32LE(0) !== 0x08064b50) {
            throw new api_error_1.ApiError(api_error_1.ErrorCode.EINVAL, "Invalid archive extra data record signature: " + this.data.readUInt32LE(0));
        }
    }
    ArchiveExtraDataRecord.prototype.length = function () { return this.data.readUInt32LE(4); };
    ArchiveExtraDataRecord.prototype.extraFieldData = function () { return this.data.slice(8, 8 + this.length()); };
    return ArchiveExtraDataRecord;
})();
exports.ArchiveExtraDataRecord = ArchiveExtraDataRecord;
var DigitalSignature = (function () {
    function DigitalSignature(data) {
        this.data = data;
        if (this.data.readUInt32LE(0) !== 0x05054b50) {
            throw new api_error_1.ApiError(api_error_1.ErrorCode.EINVAL, "Invalid digital signature signature: " + this.data.readUInt32LE(0));
        }
    }
    DigitalSignature.prototype.size = function () { return this.data.readUInt16LE(4); };
    DigitalSignature.prototype.signatureData = function () { return this.data.slice(6, 6 + this.size()); };
    return DigitalSignature;
})();
exports.DigitalSignature = DigitalSignature;
var CentralDirectory = (function () {
    function CentralDirectory(zipData, data) {
        this.zipData = zipData;
        this.data = data;
        if (this.data.readUInt32LE(0) !== 0x02014b50)
            throw new api_error_1.ApiError(api_error_1.ErrorCode.EINVAL, "Invalid Zip file: Central directory record has invalid signature: " + this.data.readUInt32LE(0));
    }
    CentralDirectory.prototype.versionMadeBy = function () { return this.data.readUInt16LE(4); };
    CentralDirectory.prototype.versionNeeded = function () { return this.data.readUInt16LE(6); };
    CentralDirectory.prototype.flag = function () { return this.data.readUInt16LE(8); };
    CentralDirectory.prototype.compressionMethod = function () { return this.data.readUInt16LE(10); };
    CentralDirectory.prototype.lastModFileTime = function () {
        return msdos2date(this.data.readUInt16LE(12), this.data.readUInt16LE(14));
    };
    CentralDirectory.prototype.crc32 = function () { return this.data.readUInt32LE(16); };
    CentralDirectory.prototype.compressedSize = function () { return this.data.readUInt32LE(20); };
    CentralDirectory.prototype.uncompressedSize = function () { return this.data.readUInt32LE(24); };
    CentralDirectory.prototype.fileNameLength = function () { return this.data.readUInt16LE(28); };
    CentralDirectory.prototype.extraFieldLength = function () { return this.data.readUInt16LE(30); };
    CentralDirectory.prototype.fileCommentLength = function () { return this.data.readUInt16LE(32); };
    CentralDirectory.prototype.diskNumberStart = function () { return this.data.readUInt16LE(34); };
    CentralDirectory.prototype.internalAttributes = function () { return this.data.readUInt16LE(36); };
    CentralDirectory.prototype.externalAttributes = function () { return this.data.readUInt32LE(38); };
    CentralDirectory.prototype.headerRelativeOffset = function () { return this.data.readUInt32LE(42); };
    CentralDirectory.prototype.fileName = function () {
        var fileName = safeToString(this.data, this.useUTF8(), 46, this.fileNameLength());
        return fileName.replace(/\\/g, "/");
    };
    CentralDirectory.prototype.extraField = function () {
        var start = 44 + this.fileNameLength();
        return this.data.slice(start, start + this.extraFieldLength());
    };
    CentralDirectory.prototype.fileComment = function () {
        var start = 46 + this.fileNameLength() + this.extraFieldLength();
        return safeToString(this.data, this.useUTF8(), start, this.fileCommentLength());
    };
    CentralDirectory.prototype.totalSize = function () {
        return 46 + this.fileNameLength() + this.extraFieldLength() + this.fileCommentLength();
    };
    CentralDirectory.prototype.isDirectory = function () {
        var fileName = this.fileName();
        return (this.externalAttributes() & 0x10 ? true : false) || (fileName.charAt(fileName.length - 1) === '/');
    };
    CentralDirectory.prototype.isFile = function () { return !this.isDirectory(); };
    CentralDirectory.prototype.useUTF8 = function () { return (this.flag() & 0x800) === 0x800; };
    CentralDirectory.prototype.isEncrypted = function () { return (this.flag() & 0x1) === 0x1; };
    CentralDirectory.prototype.getData = function () {
        var start = this.headerRelativeOffset();
        var header = new FileHeader(this.zipData.slice(start));
        var filedata = new FileData(header, this, this.zipData.slice(start + header.totalSize()));
        return filedata.decompress();
    };
    CentralDirectory.prototype.getStats = function () {
        return new node_fs_stats_1.default(node_fs_stats_1.FileType.FILE, this.uncompressedSize(), 0x16D, new Date(), this.lastModFileTime());
    };
    return CentralDirectory;
})();
exports.CentralDirectory = CentralDirectory;
var EndOfCentralDirectory = (function () {
    function EndOfCentralDirectory(data) {
        this.data = data;
        if (this.data.readUInt32LE(0) !== 0x06054b50)
            throw new api_error_1.ApiError(api_error_1.ErrorCode.EINVAL, "Invalid Zip file: End of central directory record has invalid signature: " + this.data.readUInt32LE(0));
    }
    EndOfCentralDirectory.prototype.diskNumber = function () { return this.data.readUInt16LE(4); };
    EndOfCentralDirectory.prototype.cdDiskNumber = function () { return this.data.readUInt16LE(6); };
    EndOfCentralDirectory.prototype.cdDiskEntryCount = function () { return this.data.readUInt16LE(8); };
    EndOfCentralDirectory.prototype.cdTotalEntryCount = function () { return this.data.readUInt16LE(10); };
    EndOfCentralDirectory.prototype.cdSize = function () { return this.data.readUInt32LE(12); };
    EndOfCentralDirectory.prototype.cdOffset = function () { return this.data.readUInt32LE(16); };
    EndOfCentralDirectory.prototype.cdZipComment = function () {
        return safeToString(this.data, true, 22, this.data.readUInt16LE(20));
    };
    return EndOfCentralDirectory;
})();
exports.EndOfCentralDirectory = EndOfCentralDirectory;
var ZipFS = (function (_super) {
    __extends(ZipFS, _super);
    function ZipFS(data, name) {
        if (name === void 0) { name = ''; }
        _super.call(this);
        this.data = data;
        this.name = name;
        this._index = new file_index_1.FileIndex();
        this.populateIndex();
    }
    ZipFS.prototype.getName = function () {
        return 'ZipFS' + (this.name !== '' ? ' ' + this.name : '');
    };
    ZipFS.isAvailable = function () { return true; };
    ZipFS.prototype.diskSpace = function (path, cb) {
        cb(this.data.length, 0);
    };
    ZipFS.prototype.isReadOnly = function () {
        return true;
    };
    ZipFS.prototype.supportsLinks = function () {
        return false;
    };
    ZipFS.prototype.supportsProps = function () {
        return false;
    };
    ZipFS.prototype.supportsSynch = function () {
        return true;
    };
    ZipFS.prototype.statSync = function (path, isLstat) {
        var inode = this._index.getInode(path);
        if (inode === null) {
            throw api_error_1.ApiError.ENOENT(path);
        }
        var stats;
        if (file_index_1.isFileInode(inode)) {
            stats = inode.getData().getStats();
        }
        else if (file_index_1.isDirInode(inode)) {
            stats = inode.getStats();
        }
        else {
            throw new api_error_1.ApiError(api_error_1.ErrorCode.EINVAL, "Invalid inode.");
        }
        return stats;
    };
    ZipFS.prototype.openSync = function (path, flags, mode) {
        if (flags.isWriteable()) {
            throw new api_error_1.ApiError(api_error_1.ErrorCode.EPERM, path);
        }
        var inode = this._index.getInode(path);
        if (!inode) {
            throw api_error_1.ApiError.ENOENT(path);
        }
        else if (file_index_1.isFileInode(inode)) {
            var cdRecord = inode.getData();
            var stats = cdRecord.getStats();
            switch (flags.pathExistsAction()) {
                case file_flag_1.ActionType.THROW_EXCEPTION:
                case file_flag_1.ActionType.TRUNCATE_FILE:
                    throw api_error_1.ApiError.EEXIST(path);
                case file_flag_1.ActionType.NOP:
                    return new preload_file.NoSyncFile(this, path, flags, stats, cdRecord.getData());
                default:
                    throw new api_error_1.ApiError(api_error_1.ErrorCode.EINVAL, 'Invalid FileMode object.');
            }
            return null;
        }
        else {
            throw api_error_1.ApiError.EISDIR(path);
        }
    };
    ZipFS.prototype.readdirSync = function (path) {
        var inode = this._index.getInode(path);
        if (!inode) {
            throw api_error_1.ApiError.ENOENT(path);
        }
        else if (file_index_1.isDirInode(inode)) {
            return inode.getListing();
        }
        else {
            throw api_error_1.ApiError.ENOTDIR(path);
        }
    };
    ZipFS.prototype.readFileSync = function (fname, encoding, flag) {
        var fd = this.openSync(fname, flag, 0x1a4);
        try {
            var fdCast = fd;
            var fdBuff = fdCast.getBuffer();
            if (encoding === null) {
                return util_1.copyingSlice(fdBuff);
            }
            return fdBuff.toString(encoding);
        }
        finally {
            fd.closeSync();
        }
    };
    ZipFS.prototype.getEOCD = function () {
        var startOffset = 22;
        var endOffset = Math.min(startOffset + 0xFFFF, this.data.length - 1);
        for (var i = startOffset; i < endOffset; i++) {
            if (this.data.readUInt32LE(this.data.length - i) === 0x06054b50) {
                return new EndOfCentralDirectory(this.data.slice(this.data.length - i));
            }
        }
        throw new api_error_1.ApiError(api_error_1.ErrorCode.EINVAL, "Invalid ZIP file: Could not locate End of Central Directory signature.");
    };
    ZipFS.prototype.populateIndex = function () {
        var eocd = this.getEOCD();
        if (eocd.diskNumber() !== eocd.cdDiskNumber())
            throw new api_error_1.ApiError(api_error_1.ErrorCode.EINVAL, "ZipFS does not support spanned zip files.");
        var cdPtr = eocd.cdOffset();
        if (cdPtr === 0xFFFFFFFF)
            throw new api_error_1.ApiError(api_error_1.ErrorCode.EINVAL, "ZipFS does not support Zip64.");
        var cdEnd = cdPtr + eocd.cdSize();
        while (cdPtr < cdEnd) {
            var cd = new CentralDirectory(this.data, this.data.slice(cdPtr));
            cdPtr += cd.totalSize();
            var filename = cd.fileName();
            if (filename.charAt(0) === '/')
                throw new Error("WHY IS THIS ABSOLUTE");
            if (filename.charAt(filename.length - 1) === '/') {
                filename = filename.substr(0, filename.length - 1);
            }
            if (cd.isDirectory()) {
                this._index.addPath('/' + filename, new file_index_1.DirInode());
            }
            else {
                this._index.addPath('/' + filename, new file_index_1.FileInode(cd));
            }
        }
    };
    return ZipFS;
})(file_system.SynchronousFileSystem);
exports.__esModule = true;
exports["default"] = ZipFS;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiWmlwRlMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvYmFja2VuZC9aaXBGUy50cyJdLCJuYW1lcyI6WyJFeHRlcm5hbEZpbGVBdHRyaWJ1dGVUeXBlIiwiQ29tcHJlc3Npb25NZXRob2QiLCJtc2RvczJkYXRlIiwic2FmZVRvU3RyaW5nIiwiRmlsZUhlYWRlciIsIkZpbGVIZWFkZXIuY29uc3RydWN0b3IiLCJGaWxlSGVhZGVyLnZlcnNpb25OZWVkZWQiLCJGaWxlSGVhZGVyLmZsYWdzIiwiRmlsZUhlYWRlci5jb21wcmVzc2lvbk1ldGhvZCIsIkZpbGVIZWFkZXIubGFzdE1vZEZpbGVUaW1lIiwiRmlsZUhlYWRlci5jcmMzMiIsIkZpbGVIZWFkZXIuZmlsZU5hbWVMZW5ndGgiLCJGaWxlSGVhZGVyLmV4dHJhRmllbGRMZW5ndGgiLCJGaWxlSGVhZGVyLmZpbGVOYW1lIiwiRmlsZUhlYWRlci5leHRyYUZpZWxkIiwiRmlsZUhlYWRlci50b3RhbFNpemUiLCJGaWxlSGVhZGVyLnVzZVVURjgiLCJGaWxlRGF0YSIsIkZpbGVEYXRhLmNvbnN0cnVjdG9yIiwiRmlsZURhdGEuZGVjb21wcmVzcyIsIkRhdGFEZXNjcmlwdG9yIiwiRGF0YURlc2NyaXB0b3IuY29uc3RydWN0b3IiLCJEYXRhRGVzY3JpcHRvci5jcmMzMiIsIkRhdGFEZXNjcmlwdG9yLmNvbXByZXNzZWRTaXplIiwiRGF0YURlc2NyaXB0b3IudW5jb21wcmVzc2VkU2l6ZSIsIkFyY2hpdmVFeHRyYURhdGFSZWNvcmQiLCJBcmNoaXZlRXh0cmFEYXRhUmVjb3JkLmNvbnN0cnVjdG9yIiwiQXJjaGl2ZUV4dHJhRGF0YVJlY29yZC5sZW5ndGgiLCJBcmNoaXZlRXh0cmFEYXRhUmVjb3JkLmV4dHJhRmllbGREYXRhIiwiRGlnaXRhbFNpZ25hdHVyZSIsIkRpZ2l0YWxTaWduYXR1cmUuY29uc3RydWN0b3IiLCJEaWdpdGFsU2lnbmF0dXJlLnNpemUiLCJEaWdpdGFsU2lnbmF0dXJlLnNpZ25hdHVyZURhdGEiLCJDZW50cmFsRGlyZWN0b3J5IiwiQ2VudHJhbERpcmVjdG9yeS5jb25zdHJ1Y3RvciIsIkNlbnRyYWxEaXJlY3RvcnkudmVyc2lvbk1hZGVCeSIsIkNlbnRyYWxEaXJlY3RvcnkudmVyc2lvbk5lZWRlZCIsIkNlbnRyYWxEaXJlY3RvcnkuZmxhZyIsIkNlbnRyYWxEaXJlY3RvcnkuY29tcHJlc3Npb25NZXRob2QiLCJDZW50cmFsRGlyZWN0b3J5Lmxhc3RNb2RGaWxlVGltZSIsIkNlbnRyYWxEaXJlY3RvcnkuY3JjMzIiLCJDZW50cmFsRGlyZWN0b3J5LmNvbXByZXNzZWRTaXplIiwiQ2VudHJhbERpcmVjdG9yeS51bmNvbXByZXNzZWRTaXplIiwiQ2VudHJhbERpcmVjdG9yeS5maWxlTmFtZUxlbmd0aCIsIkNlbnRyYWxEaXJlY3RvcnkuZXh0cmFGaWVsZExlbmd0aCIsIkNlbnRyYWxEaXJlY3RvcnkuZmlsZUNvbW1lbnRMZW5ndGgiLCJDZW50cmFsRGlyZWN0b3J5LmRpc2tOdW1iZXJTdGFydCIsIkNlbnRyYWxEaXJlY3RvcnkuaW50ZXJuYWxBdHRyaWJ1dGVzIiwiQ2VudHJhbERpcmVjdG9yeS5leHRlcm5hbEF0dHJpYnV0ZXMiLCJDZW50cmFsRGlyZWN0b3J5LmhlYWRlclJlbGF0aXZlT2Zmc2V0IiwiQ2VudHJhbERpcmVjdG9yeS5maWxlTmFtZSIsIkNlbnRyYWxEaXJlY3RvcnkuZXh0cmFGaWVsZCIsIkNlbnRyYWxEaXJlY3RvcnkuZmlsZUNvbW1lbnQiLCJDZW50cmFsRGlyZWN0b3J5LnRvdGFsU2l6ZSIsIkNlbnRyYWxEaXJlY3RvcnkuaXNEaXJlY3RvcnkiLCJDZW50cmFsRGlyZWN0b3J5LmlzRmlsZSIsIkNlbnRyYWxEaXJlY3RvcnkudXNlVVRGOCIsIkNlbnRyYWxEaXJlY3RvcnkuaXNFbmNyeXB0ZWQiLCJDZW50cmFsRGlyZWN0b3J5LmdldERhdGEiLCJDZW50cmFsRGlyZWN0b3J5LmdldFN0YXRzIiwiRW5kT2ZDZW50cmFsRGlyZWN0b3J5IiwiRW5kT2ZDZW50cmFsRGlyZWN0b3J5LmNvbnN0cnVjdG9yIiwiRW5kT2ZDZW50cmFsRGlyZWN0b3J5LmRpc2tOdW1iZXIiLCJFbmRPZkNlbnRyYWxEaXJlY3RvcnkuY2REaXNrTnVtYmVyIiwiRW5kT2ZDZW50cmFsRGlyZWN0b3J5LmNkRGlza0VudHJ5Q291bnQiLCJFbmRPZkNlbnRyYWxEaXJlY3RvcnkuY2RUb3RhbEVudHJ5Q291bnQiLCJFbmRPZkNlbnRyYWxEaXJlY3RvcnkuY2RTaXplIiwiRW5kT2ZDZW50cmFsRGlyZWN0b3J5LmNkT2Zmc2V0IiwiRW5kT2ZDZW50cmFsRGlyZWN0b3J5LmNkWmlwQ29tbWVudCIsIlppcEZTIiwiWmlwRlMuY29uc3RydWN0b3IiLCJaaXBGUy5nZXROYW1lIiwiWmlwRlMuaXNBdmFpbGFibGUiLCJaaXBGUy5kaXNrU3BhY2UiLCJaaXBGUy5pc1JlYWRPbmx5IiwiWmlwRlMuc3VwcG9ydHNMaW5rcyIsIlppcEZTLnN1cHBvcnRzUHJvcHMiLCJaaXBGUy5zdXBwb3J0c1N5bmNoIiwiWmlwRlMuc3RhdFN5bmMiLCJaaXBGUy5vcGVuU3luYyIsIlppcEZTLnJlYWRkaXJTeW5jIiwiWmlwRlMucmVhZEZpbGVTeW5jIiwiWmlwRlMuZ2V0RU9DRCIsIlppcEZTLnBvcHVsYXRlSW5kZXgiXSwibWFwcGluZ3MiOiI7Ozs7O0FBK0NBLDBCQUFrQyxtQkFBbUIsQ0FBQyxDQUFBO0FBQ3RELDhCQUF5Qyx1QkFBdUIsQ0FBQyxDQUFBO0FBQ2pFLElBQU8sV0FBVyxXQUFXLHFCQUFxQixDQUFDLENBQUM7QUFFcEQsMEJBQW1DLG1CQUFtQixDQUFDLENBQUE7QUFDdkQsSUFBTyxZQUFZLFdBQVcseUJBQXlCLENBQUMsQ0FBQztBQUN6RCxxQkFBdUUsY0FBYyxDQUFDLENBQUE7QUFDdEYsSUFBSSxVQUFVLEdBSVYsT0FBTyxDQUFDLDRCQUE0QixDQUFDLENBQUMsVUFBVSxDQUFDO0FBQ3JELDJCQUFzRSx1QkFBdUIsQ0FBQyxDQUFBO0FBTTlGLFdBQVkseUJBQXlCO0lBQ25DQSwyRUFBU0Es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QU1BLENBQUNBLENBQUNBLEVBQUVBLFFBQVFBLENBQUNBLE1BQU1BLEdBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBQ25EQSxDQUFDQTtZQUNEQSxFQUFFQSxDQUFDQSxDQUFDQSxFQUFFQSxDQUFDQSxXQUFXQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDckJBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLE9BQU9BLENBQUNBLEdBQUdBLEdBQUdBLFFBQVFBLEVBQUVBLElBQUlBLHFCQUFRQSxFQUFFQSxDQUFDQSxDQUFDQTtZQUN0REEsQ0FBQ0E7WUFBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7Z0JBQ05BLElBQUlBLENBQUNBLE1BQU1BLENBQUNBLE9BQU9BLENBQUNBLEdBQUdBLEdBQUdBLFFBQVFBLEVBQUVBLElBQUlBLHNCQUFTQSxDQUFtQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDM0VBLENBQUNBO1FBQ0hBLENBQUNBO0lBQ0hBLENBQUNBO0lBQ0hkLFlBQUNBO0FBQURBLENBQUNBLEFBbktELEVBQW1DLFdBQVcsQ0FBQyxxQkFBcUIsRUFtS25FO0FBbktEOzBCQW1LQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBaaXAgZmlsZS1iYWNrZWQgZmlsZXN5c3RlbVxuICogSW1wbGVtZW50ZWQgYWNjb3JkaW5nIHRvIHRoZSBzdGFuZGFyZDpcbiAqIGh0dHA6Ly93d3cucGt3YXJlLmNvbS9kb2N1bWVudHMvY2FzZXN0dWRpZXMvQVBQTk9URS5UWFRcbiAqXG4gKiBXaGlsZSB0aGVyZSBhcmUgYSBmZXcgemlwIGxpYnJhcmllcyBmb3IgSmF2YVNjcmlwdCAoZS5nLiBKU1ppcCBhbmQgemlwLmpzKSxcbiAqIHRoZXkgYXJlIG5vdCBhIGdvb2QgbWF0Y2ggZm9yIEJyb3dzZXJGUy4gSW4gcGFydGljdWxhciwgdGhlc2UgbGlicmFyaWVzXG4gKiBwZXJmb3JtIGEgbG90IG9mIHVubmVlZGVkIGRhdGEgY29weWluZywgYW5kIGVhZ2VybHkgZGVjb21wcmVzcyBldmVyeSBmaWxlXG4gKiBpbiB0aGUgemlwIGZpbGUgdXBvbiBsb2FkaW5nIHRvIGNoZWNrIHRoZSBDUkMzMi4gVGhleSBhbHNvIGVhZ2VybHkgZGVjb2RlXG4gKiBzdHJpbmdzLiBGdXJ0aGVybW9yZSwgdGhlc2UgbGlicmFyaWVzIGR1cGxpY2F0ZSBmdW5jdGlvbmFsaXR5IGFscmVhZHkgcHJlc2VudFxuICogaW4gQnJvd3NlckZTIChlLmcuIFVURi04IGRlY29kaW5nIGFuZCBiaW5hcnkgZGF0YSBtYW5pcHVsYXRpb24pLlxuICpcbiAqIFRoaXMgZmlsZXN5c3RlbSB0YWtlcyBhZHZhbnRhZ2Ugb2YgQnJvd3NlckZTJ3MgQnVmZmVyIGltcGxlbWVudGF0aW9uLCB3aGljaFxuICogZWZmaWNpZW50bHkgcmVwcmVzZW50cyB0aGUgemlwIGZpbGUgaW4gbWVtb3J5IChpbiBib3RoIEFycmF5QnVmZmVyLWVuYWJsZWRcbiAqIGJyb3dzZXJzICphbmQqIG5vbi1BcnJheUJ1ZmZlciBicm93c2VycyksIGFuZCB3aGljaCBjYW4gbmVhdGx5IGJlICdzbGljZWQnXG4gKiB3aXRob3V0IGNvcHlpbmcgZGF0YS4gRWFjaCBzdHJ1Y3QgZGVmaW5lZCBpbiB0aGUgc3RhbmRhcmQgaXMgcmVwcmVzZW50ZWQgd2l0aFxuICogYSBidWZmZXIgc2xpY2UgcG9pbnRpbmcgdG8gYW4gb2Zmc2V0IGluIHRoZSB6aXAgZmlsZSwgYW5kIGhhcyBnZXR0ZXJzIGZvclxuICogZWFjaCBmaWVsZC4gQXMgd2UgYW50aWNpcGF0ZSB0aGF0IHRoaXMgZGF0YSB3aWxsIG5vdCBiZSByZWFkIG9mdGVuLCB3ZSBjaG9vc2VcbiAqIG5vdCB0byBzdG9yZSBlYWNoIHN0cnVjdCBmaWVsZCBpbiB0aGUgSmF2YVNjcmlwdCBvYmplY3Q7IGluc3RlYWQsIHRvIHJlZHVjZVxuICogbWVtb3J5IGNvbnN1bXB0aW9uLCB3ZSByZXRyaWV2ZSBpdCBkaXJlY3RseSBmcm9tIHRoZSBiaW5hcnkgZGF0YSBlYWNoIHRpbWUgaXRcbiAqIGlzIHJlcXVlc3RlZC5cbiAqXG4gKiBXaGVuIHRoZSBmaWxlc3lzdGVtIGlzIGluc3RhbnRpYXRlZCwgd2UgZGV0ZXJtaW5lIHRoZSBkaXJlY3Rvcnkgc3RydWN0dXJlXG4gKiBvZiB0aGUgemlwIGZpbGUgYXMgcXVpY2tseSBhcyBwb3NzaWJsZS4gV2UgbGF6aWx5IGRlY29tcHJlc3MgYW5kIGNoZWNrIHRoZVxuICogQ1JDMzIgb2YgZmlsZXMuIFdlIGRvIG5vdCBjYWNoZSBkZWNvbXByZXNzZWQgZmlsZXM7IGlmIHRoaXMgaXMgYSBkZXNpcmVkXG4gKiBmZWF0dXJlLCBpdCBpcyBiZXN0IGltcGxlbWVudGVkIGFzIGEgZ2VuZXJpYyBmaWxlIHN5c3RlbSB3cmFwcGVyIHRoYXQgY2FuXG4gKiBjYWNoZSBkYXRhIGZyb20gYXJiaXRyYXJ5IGZpbGUgc3lzdGVtcy5cbiAqXG4gKiBGb3IgaW5mbGF0aW9uLCB3ZSB1c2UgYHBham9gJ3MgaW1wbGVtZW50YXRpb246XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbm9kZWNhL3Bha29cbiAqXG4gKiBVbmZvcnR1bmF0ZWx5LCB0aGVpciBpbXBsZW1lbnRhdGlvbiBmYWxscyBiYWNrIHRvIGFuIGFycmF5IG9mIGJ5dGVzIGZvciBub24tXG4gKiBUeXBlZEFycmF5IGJyb3dzZXJzLCB3aGljaCBpcyByZXN1bHRzIGluIGEgbXVjaCBsYXJnZXIgbWVtb3J5IGZvb3RwcmludCBpblxuICogdGhvc2UgYnJvd3NlcnMuIFBlcmhhcHMgb25lIGRheSB3ZSdsbCBoYXZlIGFuIGltcGxlbWVudGF0aW9uIG9mIGluZmxhdGUgdGhhdFxuICogd29ya3Mgb24gQnVmZmVycz8gOilcbiAqXG4gKiBDdXJyZW50IGxpbWl0YXRpb25zOlxuICogKiBObyBlbmNyeXB0aW9uLlxuICogKiBObyBaSVA2NCBzdXBwb3J0LlxuICogKiBSZWFkLW9ubHkuXG4gKiAgIFdyaXRlIHN1cHBvcnQgd291bGQgcmVxdWlyZSB0aGF0IHdlOlxuICogICAtIEtlZXAgdHJhY2sgb2YgY2hhbmdlZC9uZXcgZmlsZXMuXG4gKiAgIC0gQ29tcHJlc3MgY2hhbmdlZCBmaWxlcywgYW5kIGdlbmVyYXRlIGFwcHJvcHJpYXRlIG1ldGFkYXRhIGZvciBlYWNoLlxuICogICAtIFVwZGF0ZSBmaWxlIG9mZnNldHMgZm9yIG90aGVyIGZpbGVzIGluIHRoZSB6aXAgZmlsZS5cbiAqICAgLSBTdHJlYW0gaXQgb3V0IHRvIGEgbG9jYXRpb24uXG4gKiAgIFRoaXMgaXNuJ3QgdGhhdCBiYWQsIHNvIHdlIG1pZ2h0IGRvIHRoaXMgYXQgYSBsYXRlciBkYXRlLlxuICovXG5pbXBvcnQge0FwaUVycm9yLCBFcnJvckNvZGV9IGZyb20gJy4uL2NvcmUvYXBpX2Vycm9yJztcbmltcG9ydCB7ZGVmYXVsdCBhcyBTdGF0cywgRmlsZVR5cGV9IGZyb20gJy4uL2NvcmUvbm9kZV9mc19zdGF0cyc7XG5pbXBvcnQgZmlsZV9zeXN0ZW0gPSByZXF1aXJlKCcuLi9jb3JlL2ZpbGVfc3lzdGVtJyk7XG5pbXBvcnQgZmlsZSA9IHJlcXVpcmUoJy4uL2NvcmUvZmlsZScpO1xuaW1wb3J0IHtGaWxlRmxhZywgQWN0aW9uVHlwZX0gZnJvbSAnLi4vY29yZS9maWxlX2ZsYWcnO1xuaW1wb3J0IHByZWxvYWRfZmlsZSA9IHJlcXVpcmUoJy4uL2dlbmVyaWMvcHJlbG9hZF9maWxlJyk7XG5pbXBvcnQge0FycmF5aXNoLCBidWZmZXIyQXJyYXlpc2gsIGFycmF5aXNoMkJ1ZmZlciwgY29weWluZ1NsaWNlfSBmcm9tICcuLi9jb3JlL3V0aWwnO1xudmFyIGluZmxhdGVSYXc6IHtcbiAgKGRhdGE6IEFycmF5aXNoPG51bWJlcj4sIG9wdGlvbnM/OiB7XG4gICAgY2h1bmtTaXplOiBudW1iZXI7XG4gIH0pOiBBcnJheWlzaDxudW1iZXI+O1xufSA9IHJlcXVpcmUoJ3Bha28vZGlzdC9wYWtvX2luZmxhdGUubWluJykuaW5mbGF0ZVJhdztcbmltcG9ydCB7RmlsZUluZGV4LCBEaXJJbm9kZSwgRmlsZUlub2RlLCBpc0Rpcklub2RlLCBpc0ZpbGVJbm9kZX0gZnJvbSAnLi4vZ2VuZXJpYy9maWxlX2luZGV4JztcblxuXG4vKipcbiAqIDQuNC4yLjI6IEluZGljYXRlcyB0aGUgY29tcGF0aWJpbHRpeSBvZiBhIGZpbGUncyBleHRlcm5hbCBhdHRyaWJ1dGVzLlxuICovXG5leHBvcnQgZW51bSBFeHRlcm5hbEZpbGVBdHRyaWJ1dGVUeXBlIHtcbiAgTVNET1MgPSAwLCBBTUlHQSA9IDEsIE9QRU5WTVMgPSAyLCBVTklYID0gMywgVk1fQ01TID0gNCwgQVRBUklfU1QgPSA1LFxuICBPUzJfSFBGUyA9IDYsIE1BQyA9IDcsIFpfU1lTVEVNID0gOCwgQ1BfTSA9IDksIE5URlMgPSAxMCwgTVZTID0gMTEsIFZTRSA9IDEyLFxuICBBQ09STl9SSVNDID0gMTMsIFZGQVQgPSAxNCwgQUxUX01WUyA9IDE1LCBCRU9TID0gMTYsIFRBTkRFTSA9IDE3LCBPU180MDAgPSAxOCxcbiAgT1NYID0gMTlcbn1cblxuLyoqXG4gKiA0LjQuNVxuICovXG5leHBvcnQgZW51bSBDb21wcmVzc2lvbk1ldGhvZCB7XG4gIFNUT1JFRCA9IDAsICAgICAvLyBUaGUgZmlsZSBpcyBzdG9yZWQgKG5vIGNvbXByZXNzaW9uKVxuICBTSFJVTksgPSAxLCAgICAgLy8gVGhlIGZpbGUgaXMgU2hydW5rXG4gIFJFRFVDRURfMSA9IDIsICAvLyBUaGUgZmlsZSBpcyBSZWR1Y2VkIHdpdGggY29tcHJlc3Npb24gZmFjdG9yIDFcbiAgUkVEVUNFRF8yID0gMywgIC8vIFRoZSBmaWxlIGlzIFJlZHVjZWQgd2l0aCBjb21wcmVzc2lvbiBmYWN0b3IgMlxuICBSRURVQ0VEXzMgPSA0LCAgLy8gVGhlIGZpbGUgaXMgUmVkdWNlZCB3aXRoIGNvbXByZXNzaW9uIGZhY3RvciAzXG4gIFJFRFVDRURfNCA9IDUsICAvLyBUaGUgZmlsZSBpcyBSZWR1Y2VkIHdpdGggY29tcHJlc3Npb24gZmFjdG9yIDRcbiAgSU1QTE9ERSA9IDYsICAgIC8vIFRoZSBmaWxlIGlzIEltcGxvZGVkXG4gIERFRkxBVEUgPSA4LCAgICAvLyBUaGUgZmlsZSBpcyBEZWZsYXRlZFxuICBERUZMQVRFNjQgPSA5LCAgLy8gRW5oYW5jZWQgRGVmbGF0aW5nIHVzaW5nIERlZmxhdGU2NCh0bSlcbiAgVEVSU0VfT0xEID0gMTAsIC8vIFBLV0FSRSBEYXRhIENvbXByZXNzaW9uIExpYnJhcnkgSW1wbG9kaW5nIChvbGQgSUJNIFRFUlNFKVxuICBCWklQMiA9IDEyLCAgICAgLy8gRmlsZSBpcyBjb21wcmVzc2VkIHVzaW5nIEJaSVAyIGFsZ29yaXRobVxuICBMWk1BID0gMTQsICAgICAgLy8gTFpNQSAoRUZTKVxuICBURVJTRV9ORVcgPSAxOCwgLy8gRmlsZSBpcyBjb21wcmVzc2VkIHVzaW5nIElCTSBURVJTRSAobmV3KVxuICBMWjc3ID0gMTksICAgICAgLy8gSUJNIExaNzcgeiBBcmNoaXRlY3R1cmUgKFBGUylcbiAgV0FWUEFDSyA9IDk3LCAgIC8vIFdhdlBhY2sgY29tcHJlc3NlZCBkYXRhXG4gIFBQTUQgPSA5OCAgICAgICAvLyBQUE1kIHZlcnNpb24gSSwgUmV2IDFcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgaW5wdXQgdGltZSBhbmQgZGF0ZSBpbiBNUy1ET1MgZm9ybWF0IGludG8gYSBKYXZhU2NyaXB0IERhdGVcbiAqIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gbXNkb3MyZGF0ZSh0aW1lOiBudW1iZXIsIGRhdGU6IG51bWJlcik6IERhdGUge1xuICAvLyBNUy1ET1MgRGF0ZVxuICAvL3wwIDAgMCAwICAwfDAgMCAwICAwfDAgMCAwICAwIDAgMCAwXG4gIC8vICBEICgxLTMxKSAgTSAoMS0yMykgIFkgKGZyb20gMTk4MClcbiAgdmFyIGRheSA9IGRhdGUgJiAweDFGO1xuICAvLyBKUyBkYXRlIGlzIDAtaW5kZXhlZCwgRE9TIGlzIDEtaW5kZXhlZC5cbiAgdmFyIG1vbnRoID0gKChkYXRlID4+IDUpICYgMHhGKSAtIDE7XG4gIHZhciB5ZWFyID0gKGRhdGUgPj4gOSkgKyAxOTgwO1xuICAvLyBNUyBET1MgVGltZVxuICAvL3wwIDAgMCAwICAwfDAgMCAwICAwIDAgMHwwICAwIDAgMCAwXG4gIC8vICAgU2Vjb25kICAgICAgTWludXRlICAgICAgIEhvdXJcbiAgdmFyIHNlY29uZCA9IHRpbWUgJiAweDFGO1xuICB2YXIgbWludXRlID0gKHRpbWUgPj4gNSkgJiAweDNGO1xuICB2YXIgaG91ciA9IHRpbWUgPj4gMTE7XG4gIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCk7XG59XG5cbi8qKlxuICogU2FmZWx5IHJldHVybnMgdGhlIHN0cmluZyBmcm9tIHRoZSBidWZmZXIsIGV2ZW4gaWYgaXQgaXMgMCBieXRlcyBsb25nLlxuICogKE5vcm1hbGx5LCBjYWxsaW5nIHRvU3RyaW5nKCkgb24gYSBidWZmZXIgd2l0aCBzdGFydCA9PT0gZW5kIGNhdXNlcyBhblxuICogZXhjZXB0aW9uKS5cbiAqL1xuZnVuY3Rpb24gc2FmZVRvU3RyaW5nKGJ1ZmY6IE5vZGVCdWZmZXIsIHVzZVVURjg6IGJvb2xlYW4sIHN0YXJ0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIGxlbmd0aCA9PT0gMCA/IFwiXCIgOiBidWZmLnRvU3RyaW5nKHVzZVVURjggPyAndXRmOCcgOiAnZXh0ZW5kZWRfYXNjaWknLCBzdGFydCwgc3RhcnQgKyBsZW5ndGgpO1xufVxuXG4vKlxuICAgNC4zLjYgT3ZlcmFsbCAuWklQIGZpbGUgZm9ybWF0OlxuXG4gICAgICBbbG9jYWwgZmlsZSBoZWFkZXIgMV1cbiAgICAgIFtlbmNyeXB0aW9uIGhlYWRlciAxXVxuICAgICAgW2ZpbGUgZGF0YSAxXVxuICAgICAgW2RhdGEgZGVzY3JpcHRvciAxXVxuICAgICAgLlxuICAgICAgLlxuICAgICAgLlxuICAgICAgW2xvY2FsIGZpbGUgaGVhZGVyIG5dXG4gICAgICBbZW5jcnlwdGlvbiBoZWFkZXIgbl1cbiAgICAgIFtmaWxlIGRhdGEgbl1cbiAgICAgIFtkYXRhIGRlc2NyaXB0b3Igbl1cbiAgICAgIFthcmNoaXZlIGRlY3J5cHRpb24gaGVhZGVyXVxuICAgICAgW2FyY2hpdmUgZXh0cmEgZGF0YSByZWNvcmRdXG4gICAgICBbY2VudHJhbCBkaXJlY3RvcnkgaGVhZGVyIDFdXG4gICAgICAuXG4gICAgICAuXG4gICAgICAuXG4gICAgICBbY2VudHJhbCBkaXJlY3RvcnkgaGVhZGVyIG5dXG4gICAgICBbemlwNjQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IHJlY29yZF1cbiAgICAgIFt6aXA2NCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgbG9jYXRvcl1cbiAgICAgIFtlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgcmVjb3JkXVxuKi9cblxuLypcbiA0LjMuNyAgTG9jYWwgZmlsZSBoZWFkZXI6XG5cbiAgICAgIGxvY2FsIGZpbGUgaGVhZGVyIHNpZ25hdHVyZSAgICAgNCBieXRlcyAgKDB4MDQwMzRiNTApXG4gICAgICB2ZXJzaW9uIG5lZWRlZCB0byBleHRyYWN0ICAgICAgIDIgYnl0ZXNcbiAgICAgIGdlbmVyYWwgcHVycG9zZSBiaXQgZmxhZyAgICAgICAgMiBieXRlc1xuICAgICAgY29tcHJlc3Npb24gbWV0aG9kICAgICAgICAgICAgICAyIGJ5dGVzXG4gICAgICBsYXN0IG1vZCBmaWxlIHRpbWUgICAgICAgICAgICAgIDIgYnl0ZXNcbiAgICAgIGxhc3QgbW9kIGZpbGUgZGF0ZSAgICAgICAgICAgICAgMiBieXRlc1xuICAgICAgY3JjLTMyICAgICAgICAgICAgICAgICAgICAgICAgICA0IGJ5dGVzXG4gICAgICBjb21wcmVzc2VkIHNpemUgICAgICAgICAgICAgICAgIDQgYnl0ZXNcbiAgICAgIHVuY29tcHJlc3NlZCBzaXplICAgICAgICAgICAgICAgNCBieXRlc1xuICAgICAgZmlsZSBuYW1lIGxlbmd0aCAgICAgICAgICAgICAgICAyIGJ5dGVzXG4gICAgICBleHRyYSBmaWVsZCBsZW5ndGggICAgICAgICAgICAgIDIgYnl0ZXNcblxuICAgICAgZmlsZSBuYW1lICh2YXJpYWJsZSBzaXplKVxuICAgICAgZXh0cmEgZmllbGQgKHZhcmlhYmxlIHNpemUpXG4gKi9cbmV4cG9ydCBjbGFzcyBGaWxlSGVhZGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBkYXRhOiBOb2RlQnVmZmVyKSB7XG4gICAgaWYgKGRhdGEucmVhZFVJbnQzMkxFKDApICE9PSAweDA0MDM0YjUwKSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgXCJJbnZhbGlkIFppcCBmaWxlOiBMb2NhbCBmaWxlIGhlYWRlciBoYXMgaW52YWxpZCBzaWduYXR1cmU6IFwiICsgdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgwKSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyB2ZXJzaW9uTmVlZGVkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDQpOyB9XG4gIHB1YmxpYyBmbGFncygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSg2KTsgfVxuICBwdWJsaWMgY29tcHJlc3Npb25NZXRob2QoKTogQ29tcHJlc3Npb25NZXRob2QgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSg4KTsgfVxuICBwdWJsaWMgbGFzdE1vZEZpbGVUaW1lKCk6IERhdGUge1xuICAgIC8vIFRpbWUgYW5kIGRhdGUgaXMgaW4gTVMtRE9TIGZvcm1hdC5cbiAgICByZXR1cm4gbXNkb3MyZGF0ZSh0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDEwKSwgdGhpcy5kYXRhLnJlYWRVSW50MTZMRSgxMikpO1xuICB9XG4gIHB1YmxpYyBjcmMzMigpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgxNCk7IH1cbiAgLyoqXG4gICAqIFRoZXNlIHR3byB2YWx1ZXMgYXJlIENPTVBMRVRFTFkgVVNFTEVTUy5cbiAgICpcbiAgICogU2VjdGlvbiA0LjQuOTpcbiAgICogICBJZiBiaXQgMyBvZiB0aGUgZ2VuZXJhbCBwdXJwb3NlIGJpdCBmbGFnIGlzIHNldCxcbiAgICogICB0aGVzZSBmaWVsZHMgYXJlIHNldCB0byB6ZXJvIGluIHRoZSBsb2NhbCBoZWFkZXIgYW5kIHRoZVxuICAgKiAgIGNvcnJlY3QgdmFsdWVzIGFyZSBwdXQgaW4gdGhlIGRhdGEgZGVzY3JpcHRvciBhbmRcbiAgICogICBpbiB0aGUgY2VudHJhbCBkaXJlY3RvcnkuXG4gICAqXG4gICAqIFNvIHdlJ2xsIGp1c3QgdXNlIHRoZSBjZW50cmFsIGRpcmVjdG9yeSdzIHZhbHVlcy5cbiAgICovXG4gIC8vIHB1YmxpYyBjb21wcmVzc2VkU2l6ZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgxOCk7IH1cbiAgLy8gcHVibGljIHVuY29tcHJlc3NlZFNpemUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDMyTEUoMjIpOyB9XG4gIHB1YmxpYyBmaWxlTmFtZUxlbmd0aCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSgyNik7IH1cbiAgcHVibGljIGV4dHJhRmllbGRMZW5ndGgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDE2TEUoMjgpOyB9XG4gIHB1YmxpYyBmaWxlTmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBzYWZlVG9TdHJpbmcodGhpcy5kYXRhLCB0aGlzLnVzZVVURjgoKSwgMzAsIHRoaXMuZmlsZU5hbWVMZW5ndGgoKSk7XG4gIH1cbiAgcHVibGljIGV4dHJhRmllbGQoKTogTm9kZUJ1ZmZlciB7XG4gICAgdmFyIHN0YXJ0ID0gMzAgKyB0aGlzLmZpbGVOYW1lTGVuZ3RoKCk7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5zbGljZShzdGFydCwgc3RhcnQgKyB0aGlzLmV4dHJhRmllbGRMZW5ndGgoKSk7XG4gIH1cbiAgcHVibGljIHRvdGFsU2l6ZSgpOiBudW1iZXIgeyByZXR1cm4gMzAgKyB0aGlzLmZpbGVOYW1lTGVuZ3RoKCkgKyB0aGlzLmV4dHJhRmllbGRMZW5ndGgoKTsgfVxuICBwdWJsaWMgdXNlVVRGOCgpOiBib29sZWFuIHsgcmV0dXJuICh0aGlzLmZsYWdzKCkgJiAweDgwMCkgPT09IDB4ODAwOyB9XG59XG5cbi8qKlxuICA0LjMuOCAgRmlsZSBkYXRhXG5cbiAgICBJbW1lZGlhdGVseSBmb2xsb3dpbmcgdGhlIGxvY2FsIGhlYWRlciBmb3IgYSBmaWxlXG4gICAgU0hPVUxEIGJlIHBsYWNlZCB0aGUgY29tcHJlc3NlZCBvciBzdG9yZWQgZGF0YSBmb3IgdGhlIGZpbGUuXG4gICAgSWYgdGhlIGZpbGUgaXMgZW5jcnlwdGVkLCB0aGUgZW5jcnlwdGlvbiBoZWFkZXIgZm9yIHRoZSBmaWxlXG4gICAgU0hPVUxEIGJlIHBsYWNlZCBhZnRlciB0aGUgbG9jYWwgaGVhZGVyIGFuZCBiZWZvcmUgdGhlIGZpbGVcbiAgICBkYXRhLiBUaGUgc2VyaWVzIG9mIFtsb2NhbCBmaWxlIGhlYWRlcl1bZW5jcnlwdGlvbiBoZWFkZXJdXG4gICAgW2ZpbGUgZGF0YV1bZGF0YSBkZXNjcmlwdG9yXSByZXBlYXRzIGZvciBlYWNoIGZpbGUgaW4gdGhlXG4gICAgLlpJUCBhcmNoaXZlLlxuXG4gICAgWmVyby1ieXRlIGZpbGVzLCBkaXJlY3RvcmllcywgYW5kIG90aGVyIGZpbGUgdHlwZXMgdGhhdFxuICAgIGNvbnRhaW4gbm8gY29udGVudCBNVVNUIG5vdCBpbmNsdWRlIGZpbGUgZGF0YS5cbiovXG5leHBvcnQgY2xhc3MgRmlsZURhdGEge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGhlYWRlcjogRmlsZUhlYWRlciwgcHJpdmF0ZSByZWNvcmQ6IENlbnRyYWxEaXJlY3RvcnksIHByaXZhdGUgZGF0YTogTm9kZUJ1ZmZlcikge31cbiAgcHVibGljIGRlY29tcHJlc3MoKTogTm9kZUJ1ZmZlciB7XG4gICAgLy8gQ2hlY2sgdGhlIGNvbXByZXNzaW9uXG4gICAgdmFyIGNvbXByZXNzaW9uTWV0aG9kOiBDb21wcmVzc2lvbk1ldGhvZCA9IHRoaXMuaGVhZGVyLmNvbXByZXNzaW9uTWV0aG9kKCk7XG4gICAgc3dpdGNoIChjb21wcmVzc2lvbk1ldGhvZCkge1xuICAgICAgY2FzZSBDb21wcmVzc2lvbk1ldGhvZC5ERUZMQVRFOlxuICAgICAgICB2YXIgZGF0YSA9IGluZmxhdGVSYXcoXG4gICAgICAgICAgYnVmZmVyMkFycmF5aXNoKHRoaXMuZGF0YS5zbGljZSgwLCB0aGlzLnJlY29yZC5jb21wcmVzc2VkU2l6ZSgpKSksXG4gICAgICAgICAgeyBjaHVua1NpemU6IHRoaXMucmVjb3JkLnVuY29tcHJlc3NlZFNpemUoKSB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBhcnJheWlzaDJCdWZmZXIoZGF0YSk7XG4gICAgICBjYXNlIENvbXByZXNzaW9uTWV0aG9kLlNUT1JFRDpcbiAgICAgICAgLy8gR3JhYiBhbmQgY29weS5cbiAgICAgICAgcmV0dXJuIGNvcHlpbmdTbGljZSh0aGlzLmRhdGEsIDAsIHRoaXMucmVjb3JkLnVuY29tcHJlc3NlZFNpemUoKSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB2YXIgbmFtZTogc3RyaW5nID0gQ29tcHJlc3Npb25NZXRob2RbY29tcHJlc3Npb25NZXRob2RdO1xuICAgICAgICBuYW1lID0gbmFtZSA/IG5hbWUgOiBcIlVua25vd246IFwiICsgY29tcHJlc3Npb25NZXRob2Q7XG4gICAgICAgIHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCBcIkludmFsaWQgY29tcHJlc3Npb24gbWV0aG9kIG9uIGZpbGUgJ1wiICsgdGhpcy5oZWFkZXIuZmlsZU5hbWUoKSArIFwiJzogXCIgKyBuYW1lKTtcbiAgICB9XG4gIH1cbn1cblxuLypcbiA0LjMuOSAgRGF0YSBkZXNjcmlwdG9yOlxuXG4gICAgICBjcmMtMzIgICAgICAgICAgICAgICAgICAgICAgICAgIDQgYnl0ZXNcbiAgICAgIGNvbXByZXNzZWQgc2l6ZSAgICAgICAgICAgICAgICAgNCBieXRlc1xuICAgICAgdW5jb21wcmVzc2VkIHNpemUgICAgICAgICAgICAgICA0IGJ5dGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBEYXRhRGVzY3JpcHRvciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZGF0YTogTm9kZUJ1ZmZlcikge31cbiAgcHVibGljIGNyYzMyKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQzMkxFKDApOyB9XG4gIHB1YmxpYyBjb21wcmVzc2VkU2l6ZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSg0KTsgfVxuICBwdWJsaWMgdW5jb21wcmVzc2VkU2l6ZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSg4KTsgfVxufVxuXG4vKlxuYCA0LjMuMTAgIEFyY2hpdmUgZGVjcnlwdGlvbiBoZWFkZXI6XG5cbiAgICAgIDQuMy4xMC4xIFRoZSBBcmNoaXZlIERlY3J5cHRpb24gSGVhZGVyIGlzIGludHJvZHVjZWQgaW4gdmVyc2lvbiA2LjJcbiAgICAgIG9mIHRoZSBaSVAgZm9ybWF0IHNwZWNpZmljYXRpb24uICBUaGlzIHJlY29yZCBleGlzdHMgaW4gc3VwcG9ydFxuICAgICAgb2YgdGhlIENlbnRyYWwgRGlyZWN0b3J5IEVuY3J5cHRpb24gRmVhdHVyZSBpbXBsZW1lbnRlZCBhcyBwYXJ0IG9mXG4gICAgICB0aGUgU3Ryb25nIEVuY3J5cHRpb24gU3BlY2lmaWNhdGlvbiBhcyBkZXNjcmliZWQgaW4gdGhpcyBkb2N1bWVudC5cbiAgICAgIFdoZW4gdGhlIENlbnRyYWwgRGlyZWN0b3J5IFN0cnVjdHVyZSBpcyBlbmNyeXB0ZWQsIHRoaXMgZGVjcnlwdGlvblxuICAgICAgaGVhZGVyIE1VU1QgcHJlY2VkZSB0aGUgZW5jcnlwdGVkIGRhdGEgc2VnbWVudC5cbiAqL1xuLypcbiAgNC4zLjExICBBcmNoaXZlIGV4dHJhIGRhdGEgcmVjb3JkOlxuXG4gICAgICAgIGFyY2hpdmUgZXh0cmEgZGF0YSBzaWduYXR1cmUgICAgNCBieXRlcyAgKDB4MDgwNjRiNTApXG4gICAgICAgIGV4dHJhIGZpZWxkIGxlbmd0aCAgICAgICAgICAgICAgNCBieXRlc1xuICAgICAgICBleHRyYSBmaWVsZCBkYXRhICAgICAgICAgICAgICAgICh2YXJpYWJsZSBzaXplKVxuXG4gICAgICA0LjMuMTEuMSBUaGUgQXJjaGl2ZSBFeHRyYSBEYXRhIFJlY29yZCBpcyBpbnRyb2R1Y2VkIGluIHZlcnNpb24gNi4yXG4gICAgICBvZiB0aGUgWklQIGZvcm1hdCBzcGVjaWZpY2F0aW9uLiAgVGhpcyByZWNvcmQgTUFZIGJlIHVzZWQgaW4gc3VwcG9ydFxuICAgICAgb2YgdGhlIENlbnRyYWwgRGlyZWN0b3J5IEVuY3J5cHRpb24gRmVhdHVyZSBpbXBsZW1lbnRlZCBhcyBwYXJ0IG9mXG4gICAgICB0aGUgU3Ryb25nIEVuY3J5cHRpb24gU3BlY2lmaWNhdGlvbiBhcyBkZXNjcmliZWQgaW4gdGhpcyBkb2N1bWVudC5cbiAgICAgIFdoZW4gcHJlc2VudCwgdGhpcyByZWNvcmQgTVVTVCBpbW1lZGlhdGVseSBwcmVjZWRlIHRoZSBjZW50cmFsXG4gICAgICBkaXJlY3RvcnkgZGF0YSBzdHJ1Y3R1cmUuXG4qL1xuZXhwb3J0IGNsYXNzIEFyY2hpdmVFeHRyYURhdGFSZWNvcmQge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRhdGE6IE5vZGVCdWZmZXIpIHtcbiAgICBpZiAodGhpcy5kYXRhLnJlYWRVSW50MzJMRSgwKSAhPT0gMHgwODA2NGI1MCkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIFwiSW52YWxpZCBhcmNoaXZlIGV4dHJhIGRhdGEgcmVjb3JkIHNpZ25hdHVyZTogXCIgKyB0aGlzLmRhdGEucmVhZFVJbnQzMkxFKDApKTtcbiAgICB9XG4gIH1cbiAgcHVibGljIGxlbmd0aCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSg0KTsgfVxuICBwdWJsaWMgZXh0cmFGaWVsZERhdGEoKTogTm9kZUJ1ZmZlciB7IHJldHVybiB0aGlzLmRhdGEuc2xpY2UoOCwgOCArIHRoaXMubGVuZ3RoKCkpOyB9XG59XG5cbi8qXG4gIDQuMy4xMyBEaWdpdGFsIHNpZ25hdHVyZTpcblxuICAgICAgICBoZWFkZXIgc2lnbmF0dXJlICAgICAgICAgICAgICAgIDQgYnl0ZXMgICgweDA1MDU0YjUwKVxuICAgICAgICBzaXplIG9mIGRhdGEgICAgICAgICAgICAgICAgICAgIDIgYnl0ZXNcbiAgICAgICAgc2lnbmF0dXJlIGRhdGEgKHZhcmlhYmxlIHNpemUpXG5cbiAgICAgIFdpdGggdGhlIGludHJvZHVjdGlvbiBvZiB0aGUgQ2VudHJhbCBEaXJlY3RvcnkgRW5jcnlwdGlvblxuICAgICAgZmVhdHVyZSBpbiB2ZXJzaW9uIDYuMiBvZiB0aGlzIHNwZWNpZmljYXRpb24sIHRoZSBDZW50cmFsXG4gICAgICBEaXJlY3RvcnkgU3RydWN0dXJlIE1BWSBiZSBzdG9yZWQgYm90aCBjb21wcmVzc2VkIGFuZCBlbmNyeXB0ZWQuXG4gICAgICBBbHRob3VnaCBub3QgcmVxdWlyZWQsIGl0IGlzIGFzc3VtZWQgd2hlbiBlbmNyeXB0aW5nIHRoZVxuICAgICAgQ2VudHJhbCBEaXJlY3RvcnkgU3RydWN0dXJlLCB0aGF0IGl0IHdpbGwgYmUgY29tcHJlc3NlZFxuICAgICAgZm9yIGdyZWF0ZXIgc3RvcmFnZSBlZmZpY2llbmN5LiAgSW5mb3JtYXRpb24gb24gdGhlXG4gICAgICBDZW50cmFsIERpcmVjdG9yeSBFbmNyeXB0aW9uIGZlYXR1cmUgY2FuIGJlIGZvdW5kIGluIHRoZSBzZWN0aW9uXG4gICAgICBkZXNjcmliaW5nIHRoZSBTdHJvbmcgRW5jcnlwdGlvbiBTcGVjaWZpY2F0aW9uLiBUaGUgRGlnaXRhbFxuICAgICAgU2lnbmF0dXJlIHJlY29yZCB3aWxsIGJlIG5laXRoZXIgY29tcHJlc3NlZCBub3IgZW5jcnlwdGVkLlxuKi9cbmV4cG9ydCBjbGFzcyBEaWdpdGFsU2lnbmF0dXJlIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBkYXRhOiBOb2RlQnVmZmVyKSB7XG4gICAgaWYgKHRoaXMuZGF0YS5yZWFkVUludDMyTEUoMCkgIT09IDB4MDUwNTRiNTApIHtcbiAgICAgIHRocm93IG5ldyBBcGlFcnJvcihFcnJvckNvZGUuRUlOVkFMLCBcIkludmFsaWQgZGlnaXRhbCBzaWduYXR1cmUgc2lnbmF0dXJlOiBcIiArIHRoaXMuZGF0YS5yZWFkVUludDMyTEUoMCkpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgc2l6ZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSg0KTsgfVxuICBwdWJsaWMgc2lnbmF0dXJlRGF0YSgpOiBOb2RlQnVmZmVyIHsgcmV0dXJuIHRoaXMuZGF0YS5zbGljZSg2LCA2ICsgdGhpcy5zaXplKCkpOyB9XG59XG5cbi8qXG4gIDQuMy4xMiAgQ2VudHJhbCBkaXJlY3Rvcnkgc3RydWN0dXJlOlxuXG4gICAgY2VudHJhbCBmaWxlIGhlYWRlciBzaWduYXR1cmUgICA0IGJ5dGVzICAoMHgwMjAxNGI1MClcbiAgICB2ZXJzaW9uIG1hZGUgYnkgICAgICAgICAgICAgICAgIDIgYnl0ZXNcbiAgICB2ZXJzaW9uIG5lZWRlZCB0byBleHRyYWN0ICAgICAgIDIgYnl0ZXNcbiAgICBnZW5lcmFsIHB1cnBvc2UgYml0IGZsYWcgICAgICAgIDIgYnl0ZXNcbiAgICBjb21wcmVzc2lvbiBtZXRob2QgICAgICAgICAgICAgIDIgYnl0ZXNcbiAgICBsYXN0IG1vZCBmaWxlIHRpbWUgICAgICAgICAgICAgIDIgYnl0ZXNcbiAgICBsYXN0IG1vZCBmaWxlIGRhdGUgICAgICAgICAgICAgIDIgYnl0ZXNcbiAgICBjcmMtMzIgICAgICAgICAgICAgICAgICAgICAgICAgIDQgYnl0ZXNcbiAgICBjb21wcmVzc2VkIHNpemUgICAgICAgICAgICAgICAgIDQgYnl0ZXNcbiAgICB1bmNvbXByZXNzZWQgc2l6ZSAgICAgICAgICAgICAgIDQgYnl0ZXNcbiAgICBmaWxlIG5hbWUgbGVuZ3RoICAgICAgICAgICAgICAgIDIgYnl0ZXNcbiAgICBleHRyYSBmaWVsZCBsZW5ndGggICAgICAgICAgICAgIDIgYnl0ZXNcbiAgICBmaWxlIGNvbW1lbnQgbGVuZ3RoICAgICAgICAgICAgIDIgYnl0ZXNcbiAgICBkaXNrIG51bWJlciBzdGFydCAgICAgICAgICAgICAgIDIgYnl0ZXNcbiAgICBpbnRlcm5hbCBmaWxlIGF0dHJpYnV0ZXMgICAgICAgIDIgYnl0ZXNcbiAgICBleHRlcm5hbCBmaWxlIGF0dHJpYnV0ZXMgICAgICAgIDQgYnl0ZXNcbiAgICByZWxhdGl2ZSBvZmZzZXQgb2YgbG9jYWwgaGVhZGVyIDQgYnl0ZXNcblxuICAgIGZpbGUgbmFtZSAodmFyaWFibGUgc2l6ZSlcbiAgICBleHRyYSBmaWVsZCAodmFyaWFibGUgc2l6ZSlcbiAgICBmaWxlIGNvbW1lbnQgKHZhcmlhYmxlIHNpemUpXG4gKi9cbmV4cG9ydCBjbGFzcyBDZW50cmFsRGlyZWN0b3J5IHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSB6aXBEYXRhOiBOb2RlQnVmZmVyLCBwcml2YXRlIGRhdGE6IE5vZGVCdWZmZXIpIHtcbiAgICAvLyBTYW5pdHkgY2hlY2suXG4gICAgaWYgKHRoaXMuZGF0YS5yZWFkVUludDMyTEUoMCkgIT09IDB4MDIwMTRiNTApXG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgXCJJbnZhbGlkIFppcCBmaWxlOiBDZW50cmFsIGRpcmVjdG9yeSByZWNvcmQgaGFzIGludmFsaWQgc2lnbmF0dXJlOiBcIiArIHRoaXMuZGF0YS5yZWFkVUludDMyTEUoMCkpO1xuICB9XG4gIHB1YmxpYyB2ZXJzaW9uTWFkZUJ5KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDQpOyB9XG4gIHB1YmxpYyB2ZXJzaW9uTmVlZGVkKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDYpOyB9XG4gIHB1YmxpYyBmbGFnKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDgpOyB9XG4gIHB1YmxpYyBjb21wcmVzc2lvbk1ldGhvZCgpOiBDb21wcmVzc2lvbk1ldGhvZCB7IHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDEwKTsgfVxuICBwdWJsaWMgbGFzdE1vZEZpbGVUaW1lKCk6IERhdGUge1xuICAgIC8vIFRpbWUgYW5kIGRhdGUgaXMgaW4gTVMtRE9TIGZvcm1hdC5cbiAgICByZXR1cm4gbXNkb3MyZGF0ZSh0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDEyKSwgdGhpcy5kYXRhLnJlYWRVSW50MTZMRSgxNCkpO1xuICB9XG4gIHB1YmxpYyBjcmMzMigpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgxNik7IH1cbiAgcHVibGljIGNvbXByZXNzZWRTaXplKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQzMkxFKDIwKTsgfVxuICBwdWJsaWMgdW5jb21wcmVzc2VkU2l6ZSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgyNCk7IH1cbiAgcHVibGljIGZpbGVOYW1lTGVuZ3RoKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDI4KTsgfVxuICBwdWJsaWMgZXh0cmFGaWVsZExlbmd0aCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSgzMCk7IH1cbiAgcHVibGljIGZpbGVDb21tZW50TGVuZ3RoKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDMyKTsgfVxuICBwdWJsaWMgZGlza051bWJlclN0YXJ0KCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDM0KTsgfVxuICBwdWJsaWMgaW50ZXJuYWxBdHRyaWJ1dGVzKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDM2KTsgfVxuICBwdWJsaWMgZXh0ZXJuYWxBdHRyaWJ1dGVzKCk6IG51bWJlciB7IHJldHVybiB0aGlzLmRhdGEucmVhZFVJbnQzMkxFKDM4KTsgfVxuICBwdWJsaWMgaGVhZGVyUmVsYXRpdmVPZmZzZXQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDMyTEUoNDIpOyB9XG4gIHB1YmxpYyBmaWxlTmFtZSgpOiBzdHJpbmcge1xuICAgIC8qXG4gICAgICA0LjQuMTcuMSBjbGFpbXM6XG4gICAgICAqIEFsbCBzbGFzaGVzIGFyZSBmb3J3YXJkICgnLycpIHNsYXNoZXMuXG4gICAgICAqIEZpbGVuYW1lIGRvZXNuJ3QgYmVnaW4gd2l0aCBhIHNsYXNoLlxuICAgICAgKiBObyBkcml2ZSBsZXR0ZXJzIG9yIGFueSBub25zZW5zZSBsaWtlIHRoYXQuXG4gICAgICAqIElmIGZpbGVuYW1lIGlzIG1pc3NpbmcsIHRoZSBpbnB1dCBjYW1lIGZyb20gc3RhbmRhcmQgaW5wdXQuXG5cbiAgICAgIFVuZm9ydHVuYXRlbHksIHRoaXMgaXNuJ3QgdHJ1ZSBpbiBwcmFjdGljZS4gU29tZSBXaW5kb3dzIHppcCB1dGlsaXRpZXMgdXNlXG4gICAgICBhIGJhY2tzbGFzaCBoZXJlLCBidXQgdGhlIGNvcnJlY3QgVW5peC1zdHlsZSBwYXRoIGluIGZpbGUgaGVhZGVycy5cblxuICAgICAgVG8gYXZvaWQgc2Vla2luZyBhbGwgb3ZlciB0aGUgZmlsZSB0byByZWNvdmVyIHRoZSBrbm93bi1nb29kIGZpbGVuYW1lc1xuICAgICAgZnJvbSBmaWxlIGhlYWRlcnMsIHdlIHNpbXBseSBjb252ZXJ0ICcvJyB0byAnXFwnIGhlcmUuXG4gICAgKi9cbiAgICB2YXIgZmlsZU5hbWU6IHN0cmluZyA9IHNhZmVUb1N0cmluZyh0aGlzLmRhdGEsIHRoaXMudXNlVVRGOCgpLCA0NiwgdGhpcy5maWxlTmFtZUxlbmd0aCgpKTtcbiAgICByZXR1cm4gZmlsZU5hbWUucmVwbGFjZSgvXFxcXC9nLCBcIi9cIik7XG4gIH1cbiAgcHVibGljIGV4dHJhRmllbGQoKTogTm9kZUJ1ZmZlciB7XG4gICAgdmFyIHN0YXJ0ID0gNDQgKyB0aGlzLmZpbGVOYW1lTGVuZ3RoKCk7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5zbGljZShzdGFydCwgc3RhcnQgKyB0aGlzLmV4dHJhRmllbGRMZW5ndGgoKSk7XG4gIH1cbiAgcHVibGljIGZpbGVDb21tZW50KCk6IHN0cmluZyB7XG4gICAgdmFyIHN0YXJ0ID0gNDYgKyB0aGlzLmZpbGVOYW1lTGVuZ3RoKCkgKyB0aGlzLmV4dHJhRmllbGRMZW5ndGgoKTtcbiAgICByZXR1cm4gc2FmZVRvU3RyaW5nKHRoaXMuZGF0YSwgdGhpcy51c2VVVEY4KCksIHN0YXJ0LCB0aGlzLmZpbGVDb21tZW50TGVuZ3RoKCkpO1xuICB9XG4gIHB1YmxpYyB0b3RhbFNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNDYgKyB0aGlzLmZpbGVOYW1lTGVuZ3RoKCkgKyB0aGlzLmV4dHJhRmllbGRMZW5ndGgoKSArIHRoaXMuZmlsZUNvbW1lbnRMZW5ndGgoKTtcbiAgfVxuICBwdWJsaWMgaXNEaXJlY3RvcnkoKTogYm9vbGVhbiB7XG4gICAgLy8gTk9URTogVGhpcyBhc3N1bWVzIHRoYXQgdGhlIHppcCBmaWxlIGltcGxlbWVudGF0aW9uIHVzZXMgdGhlIGxvd2VyIGJ5dGVcbiAgICAvLyAgICAgICBvZiBleHRlcm5hbCBhdHRyaWJ1dGVzIGZvciBET1MgYXR0cmlidXRlcyBmb3JcbiAgICAvLyAgICAgICBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eS4gVGhpcyBpcyBub3QgbWFuZGF0ZWQsIGJ1dCBhcHBlYXJzIHRvIGJlXG4gICAgLy8gICAgICAgY29tbW9ucGxhY2UuXG4gICAgLy8gICAgICAgQWNjb3JkaW5nIHRvIHRoZSBzcGVjLCB0aGUgbGF5b3V0IG9mIGV4dGVybmFsIGF0dHJpYnV0ZXMgaXNcbiAgICAvLyAgICAgICBwbGF0Zm9ybS1kZXBlbmRlbnQuXG4gICAgLy8gICAgICAgSWYgdGhhdCBmYWlscywgd2UgYWxzbyBjaGVjayBpZiB0aGUgbmFtZSBvZiB0aGUgZmlsZSBlbmRzIGluICcvJyxcbiAgICAvLyAgICAgICB3aGljaCBpcyB3aGF0IEphdmEncyBaaXBGaWxlIGltcGxlbWVudGF0aW9uIGRvZXMuXG4gICAgdmFyIGZpbGVOYW1lID0gdGhpcy5maWxlTmFtZSgpO1xuICAgIHJldHVybiAodGhpcy5leHRlcm5hbEF0dHJpYnV0ZXMoKSAmIDB4MTAgPyB0cnVlIDogZmFsc2UpIHx8IChmaWxlTmFtZS5jaGFyQXQoZmlsZU5hbWUubGVuZ3RoLTEpID09PSAnLycpO1xuICB9XG4gIHB1YmxpYyBpc0ZpbGUoKTogYm9vbGVhbiB7IHJldHVybiAhdGhpcy5pc0RpcmVjdG9yeSgpOyB9XG4gIHB1YmxpYyB1c2VVVEY4KCk6IGJvb2xlYW4geyByZXR1cm4gKHRoaXMuZmxhZygpICYgMHg4MDApID09PSAweDgwMDsgfVxuICBwdWJsaWMgaXNFbmNyeXB0ZWQoKTogYm9vbGVhbiB7IHJldHVybiAodGhpcy5mbGFnKCkgJiAweDEpID09PSAweDE7IH1cbiAgcHVibGljIGdldERhdGEoKTogTm9kZUJ1ZmZlciB7XG4gICAgLy8gTmVlZCB0byBncmFiIHRoZSBoZWFkZXIgYmVmb3JlIHdlIGNhbiBmaWd1cmUgb3V0IHdoZXJlIHRoZSBhY3R1YWxcbiAgICAvLyBjb21wcmVzc2VkIGRhdGEgc3RhcnRzLlxuICAgIHZhciBzdGFydCA9IHRoaXMuaGVhZGVyUmVsYXRpdmVPZmZzZXQoKTtcbiAgICB2YXIgaGVhZGVyID0gbmV3IEZpbGVIZWFkZXIodGhpcy56aXBEYXRhLnNsaWNlKHN0YXJ0KSk7XG4gICAgdmFyIGZpbGVkYXRhID0gbmV3IEZpbGVEYXRhKGhlYWRlciwgdGhpcywgdGhpcy56aXBEYXRhLnNsaWNlKHN0YXJ0ICsgaGVhZGVyLnRvdGFsU2l6ZSgpKSk7XG4gICAgcmV0dXJuIGZpbGVkYXRhLmRlY29tcHJlc3MoKTtcbiAgfVxuICBwdWJsaWMgZ2V0U3RhdHMoKTogU3RhdHMge1xuICAgIHJldHVybiBuZXcgU3RhdHMoRmlsZVR5cGUuRklMRSwgdGhpcy51bmNvbXByZXNzZWRTaXplKCksIDB4MTZELCBuZXcgRGF0ZSgpLCB0aGlzLmxhc3RNb2RGaWxlVGltZSgpKTtcbiAgfVxufVxuXG4vKlxuICA0LjMuMTY6IGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeSByZWNvcmRcbiAgICBlbmQgb2YgY2VudHJhbCBkaXIgc2lnbmF0dXJlICAgIDQgYnl0ZXMgICgweDA2MDU0YjUwKVxuICAgIG51bWJlciBvZiB0aGlzIGRpc2sgICAgICAgICAgICAgMiBieXRlc1xuICAgIG51bWJlciBvZiB0aGUgZGlzayB3aXRoIHRoZVxuICAgIHN0YXJ0IG9mIHRoZSBjZW50cmFsIGRpcmVjdG9yeSAgMiBieXRlc1xuICAgIHRvdGFsIG51bWJlciBvZiBlbnRyaWVzIGluIHRoZVxuICAgIGNlbnRyYWwgZGlyZWN0b3J5IG9uIHRoaXMgZGlzayAgMiBieXRlc1xuICAgIHRvdGFsIG51bWJlciBvZiBlbnRyaWVzIGluXG4gICAgdGhlIGNlbnRyYWwgZGlyZWN0b3J5ICAgICAgICAgICAyIGJ5dGVzXG4gICAgc2l6ZSBvZiB0aGUgY2VudHJhbCBkaXJlY3RvcnkgICA0IGJ5dGVzXG4gICAgb2Zmc2V0IG9mIHN0YXJ0IG9mIGNlbnRyYWxcbiAgICBkaXJlY3Rvcnkgd2l0aCByZXNwZWN0IHRvXG4gICAgdGhlIHN0YXJ0aW5nIGRpc2sgbnVtYmVyICAgICAgICA0IGJ5dGVzXG4gICAgLlpJUCBmaWxlIGNvbW1lbnQgbGVuZ3RoICAgICAgICAyIGJ5dGVzXG4gICAgLlpJUCBmaWxlIGNvbW1lbnQgICAgICAgKHZhcmlhYmxlIHNpemUpXG4qL1xuZXhwb3J0IGNsYXNzIEVuZE9mQ2VudHJhbERpcmVjdG9yeSB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZGF0YTogTm9kZUJ1ZmZlcikge1xuICAgIGlmICh0aGlzLmRhdGEucmVhZFVJbnQzMkxFKDApICE9PSAweDA2MDU0YjUwKVxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIFwiSW52YWxpZCBaaXAgZmlsZTogRW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IHJlY29yZCBoYXMgaW52YWxpZCBzaWduYXR1cmU6IFwiICsgdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgwKSk7XG4gIH1cbiAgcHVibGljIGRpc2tOdW1iZXIoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDE2TEUoNCk7IH1cbiAgcHVibGljIGNkRGlza051bWJlcigpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSg2KTsgfVxuICBwdWJsaWMgY2REaXNrRW50cnlDb3VudCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MTZMRSg4KTsgfVxuICBwdWJsaWMgY2RUb3RhbEVudHJ5Q291bnQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDE2TEUoMTApOyB9XG4gIHB1YmxpYyBjZFNpemUoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuZGF0YS5yZWFkVUludDMyTEUoMTIpOyB9XG4gIHB1YmxpYyBjZE9mZnNldCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5kYXRhLnJlYWRVSW50MzJMRSgxNik7IH1cbiAgcHVibGljIGNkWmlwQ29tbWVudCgpOiBzdHJpbmcge1xuICAgIC8vIEFzc3VtaW5nIFVURi04LiBUaGUgc3BlY2lmaWNhdGlvbiBkb2Vzbid0IHNwZWNpZnkuXG4gICAgcmV0dXJuIHNhZmVUb1N0cmluZyh0aGlzLmRhdGEsIHRydWUsIDIyLCB0aGlzLmRhdGEucmVhZFVJbnQxNkxFKDIwKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWmlwRlMgZXh0ZW5kcyBmaWxlX3N5c3RlbS5TeW5jaHJvbm91c0ZpbGVTeXN0ZW0gaW1wbGVtZW50cyBmaWxlX3N5c3RlbS5GaWxlU3lzdGVtIHtcbiAgcHJpdmF0ZSBfaW5kZXg6IEZpbGVJbmRleCA9IG5ldyBGaWxlSW5kZXgoKTtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBaaXBGUyBmcm9tIHRoZSBnaXZlbiB6aXAgZmlsZSBkYXRhLiBOYW1lIGlzIG9wdGlvbmFsLCBhbmQgaXNcbiAgICogdXNlZCBwcmltYXJpbHkgZm9yIG91ciB1bml0IHRlc3RzJyBwdXJwb3NlcyB0byBkaWZmZXJlbnRpYXRlIGRpZmZlcmVudFxuICAgKiB0ZXN0IHppcCBmaWxlcyBpbiB0ZXN0IG91dHB1dC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZGF0YTogTm9kZUJ1ZmZlciwgcHJpdmF0ZSBuYW1lOiBzdHJpbmcgPSAnJykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5wb3B1bGF0ZUluZGV4KCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAnWmlwRlMnICsgKHRoaXMubmFtZSAhPT0gJycgPyAnICcgKyB0aGlzLm5hbWUgOiAnJyk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGlzQXZhaWxhYmxlKCk6IGJvb2xlYW4geyByZXR1cm4gdHJ1ZTsgfVxuXG4gIHB1YmxpYyBkaXNrU3BhY2UocGF0aDogc3RyaW5nLCBjYjogKHRvdGFsOiBudW1iZXIsIGZyZWU6IG51bWJlcikgPT4gdm9pZCk6IHZvaWQge1xuICAgIC8vIFJlYWQtb25seSBmaWxlIHN5c3RlbS5cbiAgICBjYih0aGlzLmRhdGEubGVuZ3RoLCAwKTtcbiAgfVxuXG4gIHB1YmxpYyBpc1JlYWRPbmx5KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHVibGljIHN1cHBvcnRzTGlua3MoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIHN1cHBvcnRzUHJvcHMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHVibGljIHN1cHBvcnRzU3luY2goKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwdWJsaWMgc3RhdFN5bmMocGF0aDogc3RyaW5nLCBpc0xzdGF0OiBib29sZWFuKTogU3RhdHMge1xuICAgIHZhciBpbm9kZSA9IHRoaXMuX2luZGV4LmdldElub2RlKHBhdGgpO1xuICAgIGlmIChpbm9kZSA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgQXBpRXJyb3IuRU5PRU5UKHBhdGgpO1xuICAgIH1cbiAgICB2YXIgc3RhdHM6IFN0YXRzO1xuICAgIGlmIChpc0ZpbGVJbm9kZTxDZW50cmFsRGlyZWN0b3J5Pihpbm9kZSkpIHtcbiAgICAgIHN0YXRzID0gaW5vZGUuZ2V0RGF0YSgpLmdldFN0YXRzKCk7XG4gICAgfSBlbHNlIGlmIChpc0Rpcklub2RlKGlub2RlKSkge1xuICAgICAgc3RhdHMgPSBpbm9kZS5nZXRTdGF0cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgQXBpRXJyb3IoRXJyb3JDb2RlLkVJTlZBTCwgXCJJbnZhbGlkIGlub2RlLlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRzO1xuICB9XG5cbiAgcHVibGljIG9wZW5TeW5jKHBhdGg6IHN0cmluZywgZmxhZ3M6IEZpbGVGbGFnLCBtb2RlOiBudW1iZXIpOiBmaWxlLkZpbGUge1xuICAgIC8vIElOVkFSSUFOVDogQ2Fubm90IHdyaXRlIHRvIFJPIGZpbGUgc3lzdGVtcy5cbiAgICBpZiAoZmxhZ3MuaXNXcml0ZWFibGUoKSkge1xuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FUEVSTSwgcGF0aCk7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHRoZSBwYXRoIGV4aXN0cywgYW5kIGlzIGEgZmlsZS5cbiAgICB2YXIgaW5vZGUgPSB0aGlzLl9pbmRleC5nZXRJbm9kZShwYXRoKTtcbiAgICBpZiAoIWlub2RlKSB7XG4gICAgICB0aHJvdyBBcGlFcnJvci5FTk9FTlQocGF0aCk7XG4gICAgfSBlbHNlIGlmIChpc0ZpbGVJbm9kZTxDZW50cmFsRGlyZWN0b3J5Pihpbm9kZSkpIHtcbiAgICAgIHZhciBjZFJlY29yZCA9IGlub2RlLmdldERhdGEoKTtcbiAgICAgIHZhciBzdGF0cyA9IGNkUmVjb3JkLmdldFN0YXRzKCk7XG4gICAgICBzd2l0Y2ggKGZsYWdzLnBhdGhFeGlzdHNBY3Rpb24oKSkge1xuICAgICAgICBjYXNlIEFjdGlvblR5cGUuVEhST1dfRVhDRVBUSU9OOlxuICAgICAgICBjYXNlIEFjdGlvblR5cGUuVFJVTkNBVEVfRklMRTpcbiAgICAgICAgICB0aHJvdyBBcGlFcnJvci5FRVhJU1QocGF0aCk7XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5OT1A6XG4gICAgICAgICAgcmV0dXJuIG5ldyBwcmVsb2FkX2ZpbGUuTm9TeW5jRmlsZSh0aGlzLCBwYXRoLCBmbGFncywgc3RhdHMsIGNkUmVjb3JkLmdldERhdGEoKSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsICdJbnZhbGlkIEZpbGVNb2RlIG9iamVjdC4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBBcGlFcnJvci5FSVNESVIocGF0aCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlYWRkaXJTeW5jKHBhdGg6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICAvLyBDaGVjayBpZiBpdCBleGlzdHMuXG4gICAgdmFyIGlub2RlID0gdGhpcy5faW5kZXguZ2V0SW5vZGUocGF0aCk7XG4gICAgaWYgKCFpbm9kZSkge1xuICAgICAgdGhyb3cgQXBpRXJyb3IuRU5PRU5UKHBhdGgpO1xuICAgIH0gZWxzZSBpZiAoaXNEaXJJbm9kZShpbm9kZSkpIHtcbiAgICAgIHJldHVybiBpbm9kZS5nZXRMaXN0aW5nKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEFwaUVycm9yLkVOT1RESVIocGF0aCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNwZWNpYWxseS1vcHRpbWl6ZWQgcmVhZGZpbGUuXG4gICAqL1xuICBwdWJsaWMgcmVhZEZpbGVTeW5jKGZuYW1lOiBzdHJpbmcsIGVuY29kaW5nOiBzdHJpbmcsIGZsYWc6IEZpbGVGbGFnKTogYW55IHtcbiAgICAvLyBHZXQgZmlsZS5cbiAgICB2YXIgZmQgPSB0aGlzLm9wZW5TeW5jKGZuYW1lLCBmbGFnLCAweDFhNCk7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBmZENhc3QgPSA8cHJlbG9hZF9maWxlLk5vU3luY0ZpbGU8WmlwRlM+PiBmZDtcbiAgICAgIHZhciBmZEJ1ZmYgPSA8QnVmZmVyPiBmZENhc3QuZ2V0QnVmZmVyKCk7XG4gICAgICBpZiAoZW5jb2RpbmcgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGNvcHlpbmdTbGljZShmZEJ1ZmYpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZkQnVmZi50b1N0cmluZyhlbmNvZGluZyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGZkLmNsb3NlU3luYygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMb2NhdGVzIHRoZSBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgcmVjb3JkIGF0IHRoZSBlbmQgb2YgdGhlIGZpbGUuXG4gICAqIFRocm93cyBhbiBleGNlcHRpb24gaWYgaXQgY2Fubm90IGJlIGZvdW5kLlxuICAgKi9cbiAgcHJpdmF0ZSBnZXRFT0NEKCk6IEVuZE9mQ2VudHJhbERpcmVjdG9yeSB7XG4gICAgLy8gVW5mb3J0dW5hdGVseSwgdGhlIGNvbW1lbnQgaXMgdmFyaWFibGUgc2l6ZSBhbmQgdXAgdG8gNjRLIGluIHNpemUuXG4gICAgLy8gV2UgYXNzdW1lIHRoYXQgdGhlIG1hZ2ljIHNpZ25hdHVyZSBkb2VzIG5vdCBhcHBlYXIgaW4gdGhlIGNvbW1lbnQsIGFuZFxuICAgIC8vIGluIHRoZSBieXRlcyBiZXR3ZWVuIHRoZSBjb21tZW50IGFuZCB0aGUgc2lnbmF0dXJlLiBPdGhlciBaSVBcbiAgICAvLyBpbXBsZW1lbnRhdGlvbnMgbWFrZSB0aGlzIHNhbWUgYXNzdW1wdGlvbiwgc2luY2UgdGhlIGFsdGVybmF0aXZlIGlzIHRvXG4gICAgLy8gcmVhZCB0aHJlYWQgZXZlcnkgZW50cnkgaW4gdGhlIGZpbGUgdG8gZ2V0IHRvIGl0LiA6KFxuICAgIC8vIFRoZXNlIGFyZSAqbmVnYXRpdmUqIG9mZnNldHMgZnJvbSB0aGUgZW5kIG9mIHRoZSBmaWxlLlxuICAgIHZhciBzdGFydE9mZnNldCA9IDIyO1xuICAgIHZhciBlbmRPZmZzZXQgPSBNYXRoLm1pbihzdGFydE9mZnNldCArIDB4RkZGRiwgdGhpcy5kYXRhLmxlbmd0aCAtIDEpO1xuICAgIC8vIFRoZXJlJ3Mgbm90IGV2ZW4gYSBieXRlIGFsaWdubWVudCBndWFyYW50ZWUgb24gdGhlIGNvbW1lbnQgc28gd2UgbmVlZCB0b1xuICAgIC8vIHNlYXJjaCBieXRlIGJ5IGJ5dGUuICpncnVtYmxlIGdydW1ibGUqXG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0T2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpKyspIHtcbiAgICAgIC8vIE1hZ2ljIG51bWJlcjogRU9DRCBTaWduYXR1cmVcbiAgICAgIGlmICh0aGlzLmRhdGEucmVhZFVJbnQzMkxFKHRoaXMuZGF0YS5sZW5ndGggLSBpKSA9PT0gMHgwNjA1NGI1MCkge1xuICAgICAgICByZXR1cm4gbmV3IEVuZE9mQ2VudHJhbERpcmVjdG9yeSh0aGlzLmRhdGEuc2xpY2UodGhpcy5kYXRhLmxlbmd0aCAtIGkpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIFwiSW52YWxpZCBaSVAgZmlsZTogQ291bGQgbm90IGxvY2F0ZSBFbmQgb2YgQ2VudHJhbCBEaXJlY3Rvcnkgc2lnbmF0dXJlLlwiKTtcbiAgfVxuXG4gIHByaXZhdGUgcG9wdWxhdGVJbmRleCgpIHtcbiAgICB2YXIgZW9jZDogRW5kT2ZDZW50cmFsRGlyZWN0b3J5ID0gdGhpcy5nZXRFT0NEKCk7XG4gICAgaWYgKGVvY2QuZGlza051bWJlcigpICE9PSBlb2NkLmNkRGlza051bWJlcigpKVxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIFwiWmlwRlMgZG9lcyBub3Qgc3VwcG9ydCBzcGFubmVkIHppcCBmaWxlcy5cIik7XG5cbiAgICB2YXIgY2RQdHIgPSBlb2NkLmNkT2Zmc2V0KCk7XG4gICAgaWYgKGNkUHRyID09PSAweEZGRkZGRkZGKVxuICAgICAgdGhyb3cgbmV3IEFwaUVycm9yKEVycm9yQ29kZS5FSU5WQUwsIFwiWmlwRlMgZG9lcyBub3Qgc3VwcG9ydCBaaXA2NC5cIik7XG4gICAgdmFyIGNkRW5kID0gY2RQdHIgKyBlb2NkLmNkU2l6ZSgpO1xuICAgIHdoaWxlIChjZFB0ciA8IGNkRW5kKSB7XG4gICAgICB2YXIgY2Q6IENlbnRyYWxEaXJlY3RvcnkgPSBuZXcgQ2VudHJhbERpcmVjdG9yeSh0aGlzLmRhdGEsIHRoaXMuZGF0YS5zbGljZShjZFB0cikpO1xuICAgICAgY2RQdHIgKz0gY2QudG90YWxTaXplKCk7XG4gICAgICAvLyBQYXRocyBtdXN0IGJlIGFic29sdXRlLCB5ZXQgemlwIGZpbGUgcGF0aHMgYXJlIGFsd2F5cyByZWxhdGl2ZSB0byB0aGVcbiAgICAgIC8vIHppcCByb290LiBTbyB3ZSBhcHBlbmQgJy8nIGFuZCBjYWxsIGl0IGEgZGF5LlxuICAgICAgdmFyIGZpbGVuYW1lID0gY2QuZmlsZU5hbWUoKTtcbiAgICAgIGlmIChmaWxlbmFtZS5jaGFyQXQoMCkgPT09ICcvJykgdGhyb3cgbmV3IEVycm9yKFwiV0hZIElTIFRISVMgQUJTT0xVVEVcIik7XG4gICAgICAvLyBYWFg6IEZvciB0aGUgZmlsZSBpbmRleCwgc3RyaXAgdGhlIHRyYWlsaW5nICcvJy5cbiAgICAgIGlmIChmaWxlbmFtZS5jaGFyQXQoZmlsZW5hbWUubGVuZ3RoIC0gMSkgPT09ICcvJykge1xuICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnN1YnN0cigwLCBmaWxlbmFtZS5sZW5ndGgtMSk7XG4gICAgICB9XG4gICAgICBpZiAoY2QuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICB0aGlzLl9pbmRleC5hZGRQYXRoKCcvJyArIGZpbGVuYW1lLCBuZXcgRGlySW5vZGUoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9pbmRleC5hZGRQYXRoKCcvJyArIGZpbGVuYW1lLCBuZXcgRmlsZUlub2RlPENlbnRyYWxEaXJlY3Rvcnk+KGNkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0=